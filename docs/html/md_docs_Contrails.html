<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XPMP2: Contrails</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XPMP2
   </div>
   <div id="projectbrief">X-Plane multiplayer library 2 - using instancing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Contrails </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> can add contrails to planes. This is achieved by instantiating one additional object per contrail at the same position as the actual plane. This object <code>Resources/Contrail/Contrail.obj</code> has no tris, but only holds a reference to a particle system file, <code>Contrail.pss</code>. The contrail is then created through X-Plane's <a href="https://developer.x-plane.com/article/x-plane-11-particle-system/">particle system</a>.</p>
<h2>Disable</h2>
<p>If you don't want contrails at all, you need to return <code>0</code> for the two config items <code>XPMP_CFG_ITM_CONTR_MIN_ALT</code> and <code>XPMP_CFG_ITM_CONTR_MAX_ALT</code>. In that case you don't even need to provide the <code>Resources/Contrail</code> folder with your deployment.</p>
<h2>Deployment</h2>
<p>If you want to make use of contrails, you need to ship the <code>Resources/Contrail</code> folder with all its 3 files with your plugin.</p>
<h2>Default</h2>
<p>By default, ie. without any provision in code, a single contrail will be generated for jet aircraft flying in an altitude between 25,000 and 45,000 ft.</p>
<h2>Configuration of Automatic Contrails</h2>
<p><a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> asks for four contrail-related configuration items, with which you can fine-tune how <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> automatically generates contrails. This should be sufficient for most usages, even complex plugins like LiveTraffic only provide pass-through configuration options for these four parameters, but no self-development implementation.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Config item   </th><th class="markdownTableHeadNone">Default   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>XPMP_CFG_ITM_CONTR_MIN_ALT</code>   </td><td class="markdownTableBodyNone">25000   </td><td class="markdownTableBodyNone">Minimum altitude in feet for automatic contrail generation    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>XPMP_CFG_ITM_CONTR_MAX_ALT</code>   </td><td class="markdownTableBodyNone">45000   </td><td class="markdownTableBodyNone">Maximum altitude in feet for automatic contrail generation; set both min and max altitude to <code>0</code> to switch off automatic contrails    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>XPMP_CFG_ITM_CONTR_LIFE</code>   </td><td class="markdownTableBodyNone">25   </td><td class="markdownTableBodyNone">Default maximum lifetime of contrail puffs in seconds, determines contrail length    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>XPMP_CFG_ITM_CONTR_MULTI</code>   </td><td class="markdownTableBodyNone">0   </td><td class="markdownTableBodyNone">Boolean: Shall multiple contrails be auto-created (one per engine), or just one?   </td></tr>
</table>
<p>Keep in mind that contrails, using the particle system, may have the potential to affect performance. That's why by default just a single contrail is generated.</p>
<h2>More Control</h2>
<p>If you need more control and want to direct yourself when how many contrails are shown, you should switch off the auto-generation by returning <code>0</code> to both <code>XPMP_CFG_ITM_CONTR_MIN_ALT</code> and <code>XPMP_CFG_ITM_CONTR_MAX_ALT</code>, and then call either of the following two member functions of <code><a class="el" href="classXPMP2_1_1Aircraft.html" title="Actual representation of all aircraft in XPMP2.">XPMP2::Aircraft</a></code>:</p>
<ul>
<li><code>ContrailTrigger()</code> tells <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> to check the plane's engine type, and if it is jet then a contrail (or even multiple, depending on config <code>XPMP_CFG_ITM_CONTR_MULTI</code>) are created. This is the function internally used by the auto-generation mechanism once a plane is in the right altitude.</li>
<li><code>ContrailRequest (unsigned num, unsigned dist_m = 0, unsigned lifeTime = 0)</code> allows even more control by specifying the number of contrails, its spacing, and the life time.</li>
</ul>
<p>Last but not least, there's <code>ContrailRemove()</code> to remove contrails. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
