<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XPMP2: XPMP2 - Developer&#39;s documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XPMP2
   </div>
   <div id="projectbrief">X-Plane multiplayer library 2 - using instancing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> - Developer's documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>These pages, available as <a href="https://twinfan.github.io/XPMP2/">GitHub pages</a>, document both usage and internals of the <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> library.</p>
<p>Content and availability status:</p>
<ul>
<li>[X] <a href="#requirements">Requirements</a></li>
<li>[ ] Feature Details<ul>
<li>[X] <a href="Matching.html">Model Matching</a></li>
<li>[X] <a href="TCAS.html">TCAS Target and AI/multiplayer support</a></li>
<li>[ ] Additional map layer</li>
<li>[X] <a href="Wake.html">Wake Turbulence Support</a></li>
<li>[X] <a href="Sound.html">Sound Support by FMOD</a></li>
<li>[X] <a href="SharedDataRefs.html">Shared dataRefs</a> providing textual aircraft / flight information to interested 3rd party plugins</li>
<li>[X] <a href="Remote.html">XPMP2 Remote</a> functionality</li>
</ul>
</li>
<li>[ ] Coding, Building, Deployment<ul>
<li>[X] <a href="Building.html">Building</a> <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a>, the <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> Remote Client, and the Sample plugin</li>
<li>[X] Brief <a href="HowTo.html">"HowTo" guide</a></li>
<li>[X] Doxgen-generated <a href="html/index.html">code documentation</a></li>
<li>[ ] Provide some general "how it works" background, can base on kuronekos wiki (but shorter) and on some of <a href="https://github.com/TwinFan/libxplanemp/wiki#changes-to-multiplayeraitcas-handling">my additions</a></li>
<li>[X] <a href="Deploying.html">What to ship</a> so that it works</li>
</ul>
</li>
<li>[X] CSL Packages<ul>
<li>[X] <a href="XSBAircraftFormat.html">File format definition</a> for <code>xsb_aircraft.txt</code></li>
<li>[X] <a href="CSLdataRefs.html">CSL model dataRefs supported by XPMP2</a></li>
<li>[X] <a href="CopyingObjFiles.html">Copying <code>.obj</code> files on load for replacing animation dataRefs and textures</a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md22"></a>
Requirements</h1>
<ul>
<li><a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> implements <a href="https://developer.x-plane.com/sdk/XPLMInstance/">instancing</a>, so it <b>requires X-Plane 11.10</b> or later</li>
<li>CSL models in <b>OBJ8 format</b> (ie. older OBJ7 models are no longer supported)</li>
<li>Potentially an FMOD license if built with sound support, see below in <a href="#sound-support-by-fmod">Sound Support by FMOD</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md23"></a>
Coding, Building, Deployment</h1>
<p>These aspects are relevant for developers using <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> in their own plugin:</p>
<h2>Building <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a></h2>
<p>XCode projects, Visual Studio solutions, and a Docker environment for Linux and Mac OS builds are provided. The details are <a href="Building.html">documented here</a>.</p>
<h2>How to Use <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a></h2>
<p>This part will probably need more attention, but find some <a href="HowTo.html">first information here</a> and study the working sample plugin in the <code>XPMP2-Sample</code> folder.</p>
<h2>API and Code Documentation</h2>
<p>All header (and code) files are documented using <a href="http://www.doxygen.nl/">Doxygen</a>-style comments. The generated doxygen files are checked in, too, so that the are available online:</p>
<ul>
<li><a href="html/index.html">Main Page</a></li>
<li><a href="html/XPMPMultiplayer_8h.html">XPMPMultiplayer.h</a> - Initialisation and general control functions</li>
<li><a href="html/XPMPAircraft_8h.html">XPMPAircraft.h</a> - Defines the main class <a href="html/classXPMP2_1_1Aircraft.html">XPMP2::Aircraft</a>, which represents an aircraft. <b>Subclass this class in your plugin!</b></li>
</ul>
<h2>Backward Compatibility</h2>
<p>If you are familiar with the original <code>libxplanemp</code> and are using it already in your plugins, then you will find <a class="el" href="md_docs_BackwardsCompatibility.html">these information on backward compatibility</a> useful, which explain how you can replace <code>libxplanemp</code> with <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> with limited effort.</p>
<h2>Deploying Your Plugin</h2>
<p>Apart from the binaries that you build you will need to ship the files provided here in the 'Resources' folder. Also, users will need to install CSL models. Find <a href="Deploying.html">more details here</a>.</p>
<h1><a class="anchor" id="autotoc_md24"></a>
CSL Models and Packages</h1>
<p>These aspects are relevant for CSL model developers and package providers:</p>
<h2><code>xsb_aircraft.txt</code> File Format</h2>
<p>The <code>xsb_aircraft.txt</code> file defines the content of one CSL model packages. ItÂ´s format is <a href="XSBAircraftFormat.html">define here</a>.</p>
<h2>dataRefs available to CSL Models</h2>
<p>To drive CSL models' <a href="https://developer.x-plane.com/article/obj8-file-format-specification/#ANIMATION_COMMANDS">ANIMations</a>, a long list of dataRefs is provided by <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a>. See its <a href="CSLdataRefs.html">documentation here</a>.</p>
<h2>Copying <code>.obj</code> files on load</h2>
<p>CSL packages come in different flavours. Popular ones for general use are the Bluebell and the X-CSL packages. Both come with different history. For <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> to use all their features it needs to change their <code>.obj</code> files. Performing these changes is built into <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a>. <a href="CopyingObjFiles.html">See here for details.</a></p>
<h1><a class="anchor" id="autotoc_md25"></a>
Links to outside locations</h1>
<h2>TCAS Override</h2>
<p>The <a href="https://developer.x-plane.com/article/overriding-tcas-and-providing-traffic-information/">TCAS Override approach</a> explains how TCAS information is provided, the classic multiplayer dataRefs are maintained and how 3rd party plugins can access this information. <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> publishes data via the <code>sim/cockpit2/tcas/targets</code> dataRefs.</p>
<h2>Wake Turbulence</h2>
<p>X-Plane's approach to Wake Turbulence support for TCAS targets is described in <a href="https://developer.x-plane.com/2022/02/wake-turbulence/">this blog post</a> featuring LiveTraffic screenshots and <a href="https://developer.x-plane.com/article/plugin-traffic-wake-turbulence/">this article on the dataRef details</a>.</p>
<h2>Original libxplanemp</h2>
<ul>
<li><a href="https://github.com/TwinFan/libxplanemp">TwinFan's libxplanemp fork</a> on GitHub<ul>
<li><a href="https://github.com/TwinFan/libxplanemp/wiki">wiki explaining differences to the kuroneko fork</a></li>
</ul>
</li>
<li><a href="https://github.com/kuroneko/libxplanemp">kuroneko's fork</a> on GitHub, a long-time standard and basis of other important forks<ul>
<li><a href="https://github.com/kuroneko/libxplanemp/wiki">kuroneko's wiki</a> including notes on CSL development </li>
</ul>
</li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
