<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>XPMP2: &lt;tt&gt;xsb_aircraft.txt&lt;/tt&gt; File format</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">XPMP2
   </div>
   <div id="projectbrief">X-Plane multiplayer library 2 - using instancing</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><code>xsb_aircraft.txt</code> File format </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <code>xsb_aircraft.txt</code> file describes the content of one CSL model package. <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> reads the file to learn about available CSL models and which ICAO aircraft type designators, airlines, and special liveries they match.</p>
<p>The <a href="https://github.com/kuroneko/libxplanemp/wiki/LegacyCSL#aircraft-directory-text-file-format">original file format</a> supported more commands necessary to support older formats like <code>.acf</code> or OBJ7. <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> only supported OBJ8 models and processes only the commands listed here. Others are ignored. They may raise warnings in <code>Log.txt</code> but otherwise do no harm.</p>
<h1><a class="anchor" id="autotoc_md47"></a>
Example</h1>
<p>The following is taken from the beginning of Bluebell's <code>xsb_aircraft.txt</code> file in its <code>BB_Airbus</code> folder:</p>
<div class="fragment"><div class="line">EXPORT_NAME __Bluebell_Airbus</div>
<div class="line"> </div>
<div class="line">OBJ8_AIRCRAFT A306_AAW</div>
<div class="line">OBJ8 SOLID YES __Bluebell_Airbus/A306/A306_AAW.obj</div>
<div class="line">VERT_OFFSET 4.6</div>
<div class="line">AIRLINE A306 AAW</div>
<div class="line"> </div>
<div class="line">OBJ8_AIRCRAFT A306_AHK</div>
<div class="line">OBJ8 SOLID YES __Bluebell_Airbus/A306/A306_AHK.obj</div>
<div class="line">VERT_OFFSET 4.6</div>
<div class="line">AIRLINE A306 AHK</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md48"></a>
Structure</h1>
<p>A <code>xsb_aircraft.txt</code> file starts defining one (or even more) package name(s) using the <code>EXPORT_NAME</code> command. Packages are identified by these names, which are then used as a root name to define the <code>.obj</code> file locations.</p>
<p>Then follow one or typically many aircraft definitions. Each aircraft definition starts with an <code>OBJ8_AIRCRAFT</code> command defining a package-unique id. <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> expects the <em>combination</em> of <code>EXPORT_NAME</code> and <code>OBJ8_AIRCRAFT</code> name to be unique and ignores any duplicates (with a warning written to <code>Log.txt</code>).</p>
<p>Each aircraft definition then includes:</p><ul>
<li>One or more <code>OBJ8</code> commands to defines which <code>.obj</code> file(s) to load for the CSL model. The OBJ8 file format is <a href="https://developer.x-plane.com/article/obj8-file-format-specification/">defined by Laminar</a>.</li>
<li>Optionally one <code>VERT_OFFSET</code> command to define the vertical offset that needs to be applied to make the model sitting right on its wheel when placed on solid ground. If missing, then <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> will read the <code>.obj</code> and find the lowest feature of the model and use this as reference.</li>
<li>One or more matching definitions using any of the commands <code>ICAO</code>, <code>AIRLINE</code>, <code>LIVERY</code>, or <code>MATCHES</code>. With <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a>, all four commands are synonyms and handle 1 to 3 parameters:<ul>
<li>ICAO aircraft type designator</li>
<li>ICAO airline operator code</li>
<li>special livery text</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md49"></a>
Commands</h1>
<h2><code>EXPORT_NAME</code></h2>
<div class="fragment"><div class="line">EXPORT_NAME &lt;package_name&gt;</div>
</div><!-- fragment --><p>Defines a package name for the content of the <code>xsb_aircraft.txt</code> file. By this package name its content can be referenced, both from within this file but also from other files.</p>
<p>Multiple <code>EXPORT_NAME</code>s can be defined in one single <code>xsb_aircraft.txt</code> file. They all then refer to the same content.</p>
<p>Everything after the <code>EXPORT_NAME</code> command until the end of the line is considered the <code>&lt;package_name&gt;</code>.</p>
<p>The <code>&lt;package_name&gt;</code> is used in the <code>OBJ8</code> command as the root to the necessary <code>.obj</code> files.</p>
<h2><code>OBJ8_AIRCRAFT</code></h2>
<div class="fragment"><div class="line">OBJ8_AIRCRAFT &lt;model_id&gt;</div>
</div><!-- fragment --><p>Starts the definition of a CSL model.</p>
<p><a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> uses the <code>&lt;package_name&gt;</code> plus the <code>&lt;model_id&gt;</code> to uniquely refer to a specific CSL model. This combination must be unique.</p>
<p>Everything after the <code>OBJ8_AIRCRAFT</code> command until the end of the line is considered the <code>&lt;model_id&gt;</code>.</p>
<h2><code>OBJ8</code></h2>
<div class="fragment"><div class="line">OBJ8 SOLID YES &lt;package_name&gt;[/&lt;relativePathTo&gt;]/&lt;file.obj&gt; [&lt;texture.ext&gt; [&lt;texture_lit.ext&gt;]]</div>
</div><!-- fragment --><p>Specifies an <code>.obj</code> file to load and optionally differing textures to use.</p>
<p>One <code>OBJ8_AIRCRAFT</code> can consist of multiple <code>.obj</code> files, though this is not recommended. If multiple <code>OBJ8</code> lines are given then <em>all</em> objects will be loaded and displayed when the CSL model is needed, assuming that their local coordinate reference is the same, ie. they will all be placed at the same location. (And only <em>if</em> all <code>.obj</code> files are found and loaded will the model be rendered.)</p>
<p>The location is relative to the given <code>&lt;package_name&gt;</code> (which can be and often is in the current <code>xsb_aircraft.txt</code> file, but could also be defined in another one):</p><ul>
<li>If a <code>&lt;relativePathTo&gt;</code> is given it needs to start in the same directory where the <code>&lt;package_name&gt;</code>'s <code>xsb_aircraft.txt</code> file is located;</li>
<li>if no <code>&lt;relativePathTo&gt;</code> is given then the <code>&lt;file.obj&gt;</code> is expected to be in the same directory as the <code>&lt;package_name&gt;</code>'s <code>xsb_aircraft.txt</code> file.</li>
</ul>
<p>Historically, other parameters than <code>SOLID YES</code> were supported, but the distinction is no longer needed. In fact, <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> just ignores the 2nd and 3rd parameter altogether.</p>
<p>The 4th and 5th parameters are optional. They define a different texture (livery) to use than originally specified in <code>&lt;file.obj&gt;</code>. To be able to use this differing texture, <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> creates a copy of <code>&lt;file.obj&gt;</code>, namely <code>&lt;file&gt;.&lt;texture&gt;.xpmp2.obj</code>, in which the object's <code>TEXTURE</code> resp. <code>TEXTURE_LIT</code> commands refer to <code>&lt;texture.ext&gt;</code> resp. <code>&lt;texture_lit.ext&gt;</code>. <a href="CopyingObjFiles.html">See here for details on copying <code>.obj</code> files.</a></p>
<h2><code>VERT_OFFSET</code></h2>
<div class="fragment"><div class="line">VERT_OFFSET &lt;float_num&gt;</div>
</div><!-- fragment --><p>Defines the vertical offset for correct placement of the model on the ground with gears down.</p>
<p>If the <code>VERT_OFFSET</code> command is missing, then <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> will read the <code>.obj</code> file(s) searching for the lowest feature defined in it and will use that point as the reference for the vertical offset.</p>
<h2><code>OFFSET</code></h2>
<div class="fragment"><div class="line">OFFSET &lt;unknown&gt; &lt;unknown&gt; &lt;vertical_offset&gt;</div>
</div><!-- fragment --><p>The <code>OFFSET</code> command appears in PilotEdge packages. The meaning of the first two parameters remains a mystery.</p>
<p>The 3rd parameter has the same meaning as <code>VERT_OFFSET</code>, see above.</p>
<h2><code>MATCHES</code> (<code>ICAO</code>, <code>AIRLINE</code>, <code>LIVERY</code>)</h2>
<div class="fragment"><div class="line">MATCHES &lt;acType&gt; [&lt;operator&gt; [&lt;livery]]</div>
</div><!-- fragment --><p>The 3 commands <code>ICAO</code>, <code>AIRLINE</code>, <code>LIVERY</code> are synonyms for <code>MATCHES</code>, provided for backward compatibility. In <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a>, all four commands share the same syntax and semantic.</p>
<p>Defines matching parameters for <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> matching algorithm.</p>
<ul>
<li><code>&lt;acType&gt;</code> (mandatory) defines the aircraft type, typically given as <a href="https://www.icao.int/publications/DOC8643/Pages/Search.aspx">ICAO aircraft type designator</a>. It is not mandatory to be an ICAO designator, but many plugins using <a class="el" href="namespaceXPMP2.html" title="Defined by FMOD.">XPMP2</a> will expect it to be one. Notable exceptions are ground vehicles, which are not defined by ICAO. "ZZZC" is an often used <code>&lt;acType&gt;</code> code for ground vehicles.</li>
<li><p class="startli"><code>&lt;operator&gt;</code> (optional) defines the aircraft's operator, often an airline. Different operators will fly different liveries, which in turn are defined as textures in the referenced <code>.obj</code> file (see <a href="https://developer.x-plane.com/article/obj8-file-format-specification/#TEXTURE_lttex_file_namegt">its <code>TEXTURE</code> command</a>). Most plugins will expect this <code>&lt;operator&gt;</code> code to be one of the <a href="https://en.wikipedia.org/wiki/List_of_airline_codes">ICAO-defined operator codes</a>.</p>
<p class="startli">You can use a single dash <code>-</code> if you don't want to define an operator, but need to place a value to be able to define a livery with the 3rd parameter:</p>
</li>
<li><code>&lt;livery&gt;</code> (optional, can only be defined together with <code>&lt;operator&gt;</code>) distinguishes different liveries of one operator, e.g. special anniversary or event liveries. There is no univerally defined way what this code shall look like, so it is up to the plugin to define what matches. For example, LiveTraffic feeds the registration (tail number) to match against the <code>&lt;livery&gt;</code> code. That makes it possible to list the specific aircraft that are using some special livery in several <code>MATCHES</code> lines.</li>
</ul>
<p>Several <code>MATCHES</code> lines can be defined per model. The model will then match for all the provided codes.</p>
<p><code>&lt;acType&gt;</code> must be the same in all <code>MATCHES</code> lines of one aircraft definition. Differing <code>&lt;acType&gt;</code> values will raise a warning but will otherwise be just ignored. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
